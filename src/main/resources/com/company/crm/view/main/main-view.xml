<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<mainView xmlns="http://jmix.io/schema/flowui/main-view"
          title="msg://MainView.title">
    <actions>
        <action id="logoutAction" text="msg:///actions.logout.text" type="logout"/>
    </actions>
    <facets>
        <settings auto="true"/>
        <urlQueryParameters id="urlQueryParameters"/>
    </facets>
    <appLayout>
        <drawerLayout>
            <section id="section" classNames="jmix-main-view-section">
                <h2 id="applicationTitle" classNames="jmix-main-view-application-title">
                    <svgIcon id="logo" size="40px" resource="icons/icon.svg" classNames="pr-m" css="cursor: pointer"/>
                    <h3 id="baseLink"
                        css="cursor: pointer"
                        text="msg://applicationTitle.text"
                        classNames="jmix-main-view-application-title-base-link font-black"/>
                </h2>
                <hr/>
                <nav id="navigation"
                     classNames="jmix-main-view-navigation"
                     ariaLabel="msg://navigation.ariaLabel">
                    <listMenu id="menu" themeNames="toggle-reverse"/>
                </nav>
            </section>
        </drawerLayout>

        <navigationBar>
            <header id="header" classNames="jmix-main-view-header">
                <drawerToggle id="drawerToggle"
                              classNames="jmix-main-view-drawer-toggle"
                              themeNames="contrast"
                              ariaLabel="msg://drawerToggle.ariaLabel"/>
                <h1 id="viewTitle" classNames="jmix-main-view-title"/>

                <textField id="searchField" valueChangeMode="EAGER" valueChangeTimeout="500"
                           placeholder="msg://searchFieldPlaceholder" clearButtonVisible="true"
                           classNames="ms-auto me-l" minWidth="6em" width="14vw">
                    <suffix>
                        <icon icon="SEARCH"/>
                    </suffix>
                </textField>
                <button id="notificationsButton" icon="BELL_O" themeNames="tertiary" classNames="me-l"
                        css="background-color: var(--lumo-shade-5pct);"/>
                <userMenu id="userMenu" themeNames="tertiary" classNames="me-l">
                    <items>
                        <separator/>
                        <actionItem id="substituteUserMenuItem"
                                    themeNames="non-checkable">
                            <action id="substituteUserAction" type="sec_userMenuSubstituteUser"/>
                        </actionItem>
                        <actionItem id="profileItem" themeNames="non-checkable">
                            <action id="profileAction" icon="USER" text="msg:///profile"/>
                        </actionItem>
                        <actionItem id="themeItem" themeNames="non-checkable">
                            <action id="themeAction" type="userMenu_themeSwitch"/>
                        </actionItem>
                        <actionItem id="languageItem" themeNames="non-checkable">
                            <action id="languageAction" type="userMenu_languageSwitch"/>
                        </actionItem>
                        <separator/>
                        <actionItem id="logoutMenuItem" ref="logoutAction" themeNames="non-checkable"/>
                    </items>
                </userMenu>
            </header>
        </navigationBar>

        <initialLayout padding="false">
            <component class="com.company.crm.view.home.HomeView"/>
        </initialLayout>
    </appLayout>
</mainView>